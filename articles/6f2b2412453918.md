---
title: 'Electron React-app(todoã‚¢ãƒ—ãƒª)ã§Electronã‚’ç†è§£ã™ã‚‹'
emoji: 'ğŸ˜½'
type: 'tech' # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [Electron, React]
published: true
---

# ã¯ã˜ã‚ã«

ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã§ä½œæˆã™ã‚‹è¨˜äº‹ãŒå¤šã‹ã£ãŸã®ã§ã™ãŒã€å†…å®¹ãŒå¤ããªã£ã¦ãŠã‚Šã€ä»Šå›ä½œæˆã—ãŸã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã«ä½¿ã„ãŸã„ã¨è€ƒãˆã¦ã„ã‚‹ãŸã‚
ã§ãã‚‹é™ã‚Šè‡ªåˆ†ã§ç’°å¢ƒæ§‹ç¯‰ã™ã‚‹ã“ã¨ã‚’ç›®æ¨™ã«ã‚¢ãƒ—ãƒªã‚’ä½œã‚Šã¾ã—ãŸ

https://github.com/nto300002/electron-react

ä»¥ä¸‹ã¯å‚™å¿˜éŒ²ã¨ã—ã¦ã¾ã¨ã‚ãŸã‚‚ã®ãªã®ã§è¦‹ã«ãããªã£ã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã”äº†æ‰¿ãã ã•ã„

# Electron ã‚¢ãƒ—ãƒªã®åŸºæœ¬

https://www.electronjs.org/ja/docs/latest/tutorial/tutorial-first-app

Node.js ã§ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ãŸã‚ã®é–‹ç™ºãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

## ä»•æ§˜

### Electron

- ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹
  ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’æ‹…å½“ã€preload.ts ã§å…¬é–‹ã•ã‚ŒãŸ API ã‚’é™¤ã Electron ã® API ã¸ã®ç›´æ¥çš„ãªã‚¢ã‚¯ã‚»ã‚¹ã¯åˆ¶é™ã•ã‚Œã¦ã„ã‚‹
- ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹
  ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’æ‹…å½“ã€DB ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚„ã‚¢ãƒ—ãƒªã®èµ·å‹•ã€ã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã®ç®¡ç†ãªã©ã‚’è¡Œã†
  `IPCé€šä¿¡`ã‚’ç”¨ã„ã¦ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã™ã‚‹
- `IPCé€šä¿¡`
  Inter-Process Communication
  `preload.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã§å…¬é–‹ã™ã‚‹ API ã‚’å®šç¾©ã—ã€ãã‚Œã®ã¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹

### React

- src
  React ã®åŸºæœ¬çš„ãªæ§‹é€ ã¨ã—ã¦ src ã‚’é…ä¸‹ã¨ã—ã¦å±•é–‹ã™ã‚‹
- dist
  src ã®å†…å®¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ dist é…ä¸‹ã®è¦ç´ ãŒä½œæˆã•ã‚Œã‚‹(build)
  ã“ã‚Œã‚’èª­ã¿è¾¼ã‚“ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œã™ã‚‹
- ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
  `dist/main/main.js` package.json ã«ã‚‚è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹
  ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·å‹•
- renderer
  ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹ã‚’å¸ã‚‹
  åŸºæœ¬çš„ã«ã¯ index.html ãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹

## åŸºæœ¬æ§‹é€ 

![](articles/screenshots/electron_dir.png)

```yaml
ELECTRON-REACT/
â”œâ”€â”€ dist/
â”‚   â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ preload/
â”‚   â””â”€â”€ renderer/
â”‚       â”œâ”€â”€ index.html
â”‚       â”œâ”€â”€ renderer.js
â”‚       â””â”€â”€ renderer.js.map
â”œâ”€â”€ node_modules/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ preload/
â”‚   â”‚   â””â”€â”€ preload.ts
â”‚   â””â”€â”€ renderer/
â”‚       â”œâ”€â”€ components/
â”‚       â”œâ”€â”€ contexts/
â”‚       â”œâ”€â”€ pages/
â”‚       â”œâ”€â”€ styles/
â”‚       â”œâ”€â”€ App.tsx
â”‚       â”œâ”€â”€ index.html
â”‚       â”œâ”€â”€ index.tsx
â”‚       â””â”€â”€ types.d.ts
â”‚   â””â”€â”€ types/
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md
â”œâ”€â”€ tsconfig.electron.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ webpack.config.js
```

## ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹

ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ

```json
{
  ...
  "main": "dist/main/main.js",
  ...
}
```

æç”»ã®éš›ã¯ã€build ã—ãŸéš›ã«ç«‹ã¡ä¸ŠãŒã£ãŸ dist ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`/main/main.js`ãŒç”Ÿæˆã•ã‚Œã€ãã‚ŒãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹
src é…ä¸‹ã® `main.ts` ã«å¯¾å¿œ

main.ts

```ts
import path from 'path';
import { app, BrowserWindow, shell, ipcMain } from 'electron';
import { autoUpdater } from 'electron-updater';
import log from 'electron-log';
import MenuBuilder from './menu';
import { resolveHtmlPath } from './util';
import Store, { Schema } from 'electron-store';

class AppUpdater {
  constructor() {
    log.transports.file.level = 'info';
    autoUpdater.logger = log;
    autoUpdater.checkForUpdatesAndNotify();
  }
}

let mainWindow: BrowserWindow | null = null;

ipcMain.on('ipc-example', async (event, arg) => {
  const msgTemplate = (pingPong: string) => `IPC test: ${pingPong}`;
  console.log(msgTemplate(arg));
  event.reply('ipc-example', msgTemplate('pong'));
});

if (process.env.NODE_ENV === 'production') {
  const sourceMapSupport = require('source-map-support');
  sourceMapSupport.install();
}

const isDebug =
  process.env.NODE_ENV === 'development' || process.env.DEBUG_PROD === 'true';

if (isDebug) {
  require('electron-debug')();
}

const installExtensions = async () => {
  const installer = require('electron-devtools-installer');
  const forceDownload = !!process.env.UPGRADE_EXTENSIONS;
  const extensions = ['REACT_DEVELOPER_TOOLS'];

  return installer
    .default(
      extensions.map((name) => installer[name]),
      forceDownload
    )
    .catch(console.log);
};

const createWindow = async () => {
  if (isDebug) {
    await installExtensions();
  }

  const RESOURCES_PATH = app.isPackaged
    ? path.join(process.resourcesPath, 'assets')
    : path.join(__dirname, '../../assets');

  const getAssetPath = (...paths: string[]): string => {
    return path.join(RESOURCES_PATH, ...paths);
  };

  mainWindow = new BrowserWindow({
    show: false,
    width: 1024,
    height: 728,
    icon: getAssetPath('icon.png'),
    webPreferences: {
      preload: app.isPackaged
        ? path.join(__dirname, 'preload.js')
        : path.join(__dirname, '../../.erb/dll/preload.js'),
    },
  });

  mainWindow.loadURL(resolveHtmlPath('index.html'));

  mainWindow.on('ready-to-show', () => {
    if (!mainWindow) {
      throw new Error('"mainWindow" is not defined');
    }
    if (process.env.START_MINIMIZED) {
      mainWindow.minimize();
    } else {
      mainWindow.show();
    }
  });

  mainWindow.on('closed', () => {
    mainWindow = null;
  });

  const menuBuilder = new MenuBuilder(mainWindow);
  menuBuilder.buildMenu();

  // Open urls in the user's browser
  mainWindow.webContents.setWindowOpenHandler((edata) => {
    shell.openExternal(edata.url);
    return { action: 'deny' };
  });

  // Remove this if your app does not use auto updates
  // eslint-disable-next-line
  new AppUpdater();
};

/**
 * Add event listeners...
 */

app.on('window-all-closed', () => {
  // Respect the OSX convention of having the application in memory even
  // after all windows have been closed
  if (process.platform !== 'darwin') {
    app.quit();
  }
});

app
  .whenReady()
  .then(() => {
    createWindow();
    app.on('activate', () => {
      // On macOS it's common to re-create a window in the app when the
      // dock icon is clicked and there are no other windows open.
      if (mainWindow === null) createWindow();
    });
  })
  .catch(console.log);

// ---- æ–°è¦è¿½åŠ  ----

// Todoå‹ã®å®šç¾©
interface Todo {
  id: string;
  text: string;
  completed: boolean;
  createdAt: string;
}

// Storeå‹ã®å®šç¾©
interface StoreSchema {
  todoList: Todo[];
}

// å‹ä»˜ãStoreã®ä½œæˆ
const storeData = new Store<StoreSchema>();

// å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ - Storeã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å¯¾ã—ã¦getã¨setãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¤ã“ã¨ã‚’æ˜ç¤º
const typedStore = storeData as unknown as {
  get: <T>(key: keyof StoreSchema, defaultValue?: T) => T;
  set: <T>(key: keyof StoreSchema, value: T) => void;
};

ipcMain.handle('loadTodoList', async (event, data) => {
  return typedStore.get('todoList', []);
});

ipcMain.handle('storeTodoList', async (event, data) => {
  typedStore.set('todoList', data);
});

ipcMain.handle('deleteTodoList', async (event, id) => {
  const todoList = typedStore.get<Todo[]>('todoList', []);
  const updateTodoList = todoList.filter((todo: Todo) => todo.id !== id);
  typedStore.set('todoList', updateTodoList);
  console.log('updateList : ' + JSON.stringify(updateTodoList));
  return updateTodoList;
});
```

### main.ts ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

```ts
import path from 'path';
import { app, BrowserWindow, shell, ipcMain } from 'electron';
import { autoUpdater } from 'electron-updater';
import log from 'electron-log';
import MenuBuilder from './menu'; //åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«
import { resolveHtmlPath } from './util';
import Store, { Schema } from 'electron-store';
```

`app`:ã‚¢ãƒ—ãƒªã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«(ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¦ã‹ã‚‰çµ‚äº†ã™ã‚‹ã¾ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆ)ã‚’åˆ¶å¾¡
`BrowserWindow`:ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã‚‰ã—ãã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã®ä½œæˆã€ç®¡ç†
`shell`:ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€url ã‚’é–‹ããªã©ã®æ“ä½œ
`ipcMain`:main ã¨ renderer ãƒ—ãƒ­ã‚»ã‚¹ã‚’ã¤ãªã

`autoUpdater`:ãã®åã®é€šã‚Š

`log`:ãƒ­ã‚®ãƒ³ã‚°(ãƒ­ã‚°ã‚’æ®‹ã™)æ©Ÿèƒ½

`electron-store`:ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è‡ªå‹•æ›´æ–°æ©Ÿèƒ½

```ts
class AppUpdater {
  constructor() {
    log.transports.file.level = 'info';
    autoUpdater.logger = log;
    autoUpdater.checkForUpdatesAndNotify();
  }
}
```

æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Œã°é€šçŸ¥ãŒæ¥ã‚‹

### ã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã®å®šç¾©

```ts
let mainWindow: BrowserWindow | null = null;
```

é–‰ã˜ã‚‹ã¨ null ã«ãªã‚‹

### IPC é€šä¿¡

IPC (Inter-Process Communication) é€šä¿¡ã¨ã¯`main`ã¨`renderer`ã§ãƒ‡ãƒ¼ã‚¿ã®ã‚„ã‚Šå–ã‚Šã‚’ã™ã‚‹ã“ã¨
main ãƒ—ãƒ­ã‚»ã‚¹ï¼šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å´ã®ä»•çµ„ã¿

- Node.js ã‚’åˆ©ç”¨
- GUI(ã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦)ã‚’ç®¡ç†ã™ã‚‹

```ts
ipcMain.on('ipc-example', async (event, arg) => {
  const msgTemplate = (pingPong: string) => `IPC test: ${pingPong}`;
  console.log(msgTemplate(arg));
  event.reply('ipc-example', msgTemplate('pong'));
});
```

`renderer`:`ipc-example`->`main`

### é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã®å‡¦ç†

```ts
if (process.env.NODE_ENV === 'production') {
  const sourceMapSupport = require('source-map-support');
  sourceMapSupport.install();
}

const isDebug =
  process.env.NODE_ENV === 'development' || process.env.DEBUG_PROD === 'true';

if (isDebug) {
  require('electron-debug')();
}
```

æœ¬ç•ªç’°å¢ƒã¨é–‹ç™ºç’°å¢ƒã§ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é•ã„

### é–‹ç™ºãƒ„ãƒ¼ãƒ«

```ts
const installExtensions = async () => {
  const installer = require('electron-devtools-installer');
  const forceDownload = !!process.env.UPGRADE_EXTENSIONS;
  const extensions = ['REACT_DEVELOPER_TOOLS'];

  return installer
    .default(
      extensions.map((name) => installer[name]),
      forceDownload
    )
    .catch(console.log);
};
```

é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãƒ„ãƒ¼ãƒ«ç¾¤

### ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ä½œæˆ

```ts
const createWindow = async () => {
  // ... (é–‹ç™ºãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«)

  const RESOURCES_PATH = app.isPackaged
    ? path.join(process.resourcesPath, 'assets')
    : path.join(__dirname, '../../assets');

  const getAssetPath = (...paths: string[]): string => {
    return path.join(RESOURCES_PATH, ...paths);
  };

  mainWindow = new BrowserWindow({
    show: false,
    width: 1024,
    height: 728,
    icon: getAssetPath('icon.png'),
    webPreferences: {
      preload: app.isPackaged
        ? path.join(__dirname, 'preload.js')
        : path.join(__dirname, '../../.erb/dll/preload.js'),
    },
  });

  mainWindow.loadURL(resolveHtmlPath('index.html'));

  // ... (ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒ³ãƒ‰ãƒ©è¨­å®š)

  const menuBuilder = new MenuBuilder(mainWindow);
  menuBuilder.buildMenu();

  // ... (URLã‚’å¤–éƒ¨ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãè¨­å®š)

  // ... (è‡ªå‹•æ›´æ–°æ©Ÿèƒ½ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–)
};
```

- preload: ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼(WEB ãƒšãƒ¼ã‚¸)ãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹å‰ã«å®Ÿè¡Œã•ã‚Œã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ(ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ)
- app.isPackaged: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ã‚‹ã‹

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆ

```ts
app.on('window-all-closed', () => {
  // ...
});

app
  .whenReady() //åˆæœŸåŒ–
  .then(() => {
    createWindow();
    app.on('activate', () => {
      // ...
    });
  })
  .catch(console.log);
```

### ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹

```ts
// Todoå‹ã®å®šç¾©
interface Todo {
  id: string;
  text: string;
  completed: boolean;
  createdAt: string;
}

// Storeå‹ã®å®šç¾©
interface StoreSchema {
  todoList: Todo[];
}

// å‹ä»˜ãStoreã®ä½œæˆ
const storeData = new Store<StoreSchema>();

// å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ - Storeã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å¯¾ã—ã¦getã¨setãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¤ã“ã¨ã‚’æ˜ç¤º
const typedStore = storeData as unknown as {
  get: <T>(key: keyof StoreSchema, defaultValue?: T) => T;
  set: <T>(key: keyof StoreSchema, value: T) => void;
};

ipcMain.handle('loadTodoList', async (event, data) => {
  return typedStore.get('todoList', []);
});

ipcMain.handle('storeTodoList', async (event, data) => {
  typedStore.set('todoList', data);
});

ipcMain.handle('deleteTodoList', async (event, id) => {
  const todoList = typedStore.get<Todo[]>('todoList', []);
  const updateTodoList = todoList.filter((todo: Todo) => todo.id !== id);
  typedStore.set('todoList', updateTodoList);
  console.log('updateList : ' + JSON.stringify(updateTodoList));
  return updateTodoList;
});
```

ãƒ­ãƒ¼ã‚«ãƒ«ã« todo ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹(ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹)

## preload.ts

`renderer`<->`main`

```ts
// Disable no-unused-vars, broken for spread args
/* eslint no-unused-vars: off */
import { contextBridge, ipcRenderer, IpcRendererEvent } from 'electron';

export type Channels = 'ipc-example';

//ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹ã®APIã‚’å®šç¾©
const electronHandler = {
  ipcRenderer: {
    //å‹ã‚’æä¾›
    sendMessage(channel: Channels, ...args: unknown[]) {
      //->main ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
      ipcRenderer.send(channel, ...args);
    },
    on(channel: Channels, func: (...args: unknown[]) => void) {
      //main-> ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒªãƒƒã‚¹ãƒ³
      const subscription = (_event: IpcRendererEvent, ...args: unknown[]) =>
        func(...args);
      ipcRenderer.on(channel, subscription);

      return () => {
        ipcRenderer.removeListener(channel, subscription);
      };
    },
    once(channel: Channels, func: (...args: unknown[]) => void) {
      //*once ä¸€åº¦ã ã‘ãƒªãƒƒã‚¹ãƒ³
      ipcRenderer.once(channel, (_event, ...args) => func(...args));
    },
  },
};

export type ElectronHandler = typeof electronHandler;

// ---- Todo ----
contextBridge.exposeInMainWorld('electron', electronHandler); //electronHandler->window.electron  ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼ã§APIã‚’å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«ã™ã‚‹

contextBridge.exposeInMainWorld('db', {
  loadTodoList: () => ipcRenderer.invoke('loadTodoList'),
  storeTodoList: (todoList: Array<object>) =>
    ipcRenderer.invoke('storeTodoList', todoList),
  deleteTodoList: (id: number) => ipcRenderer.invoke('deleteTodoList', id), //ipcRenderer.invoke  ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã«éåŒæœŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
});
// ---- Todo ----
```

- ãƒªãƒƒã‚¹ãƒ³(listen): æ¥ç¶šã‚’å—ã‘å–ã‚‹

# ç’°å¢ƒæ§‹ç¯‰

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–

```bash
   mkdir electron_todo_auth
   cd electron_todo_auth
   npm init -y
```

- TypeScript ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
   npm install -D typescript @types/node @types/react @types/react-dom ts-node
   npx tsc --init
```

tsconfig.json ã¨ tsconfig.electron.jsonï¼ˆElectron ç”¨ã®è¨­å®šï¼‰ã‚’ä½œæˆ

- Electron ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
   npm install -D electron electron-builder
```

builder

- React ã¨ãã®ãƒ«ãƒ¼ã‚¿ãƒ¼ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
   npm install react react-dom react-router-dom
```

- ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã®è¨­å®šï¼ˆWebpackï¼‰

```bash
   npm install -D webpack webpack-cli webpack-dev-server ts-loader css-loader style-loader html-webpack-plugin
```

- ãã®ä»–ã®ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
   npm install electron-log electron-updater electron-store googleapis dotenv
   npm install -D concurrently @types/semver
```

- package.json

```json
{
  "name": "electron_todo_auth",
  "version": "1.0.0",
  "description": "",
  "main": "dist/main/main.js",
  "scripts": {
    "start": "electron .",
    "build": "webpack && tsc -p tsconfig.electron.json",
    "dev": "concurrently \"webpack --watch\" \"tsc -p tsconfig.electron.json --watch\" \"electron .\"",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "dotenv": "^16.4.7",
    "electron-log": "^5.3.2",
    "electron-store": "^8.1.0",
    "electron-updater": "^6.3.9",
    "googleapis": "^146.0.0",
    "react": "^19.0.0",
    "react-dom": "^19.0.0",
    "react-router-dom": "^7.3.0"
  },
  "devDependencies": {
    "@types/node": "^22.13.10",
    "@types/react": "^19.0.10",
    "@types/react-dom": "^19.0.4",
    "@types/semver": "^7.5.8",
    "concurrently": "^9.1.2",
    "css-loader": "^7.1.2",
    "electron": "^35.0.1",
    "electron-builder": "^25.1.8",
    "html-webpack-plugin": "^5.6.3",
    "style-loader": "^4.0.0",
    "ts-loader": "^9.5.2",
    "ts-node": "^10.9.2",
    "typescript": "^5.8.2",
    "webpack": "^5.98.0",
    "webpack-cli": "^6.0.1",
    "webpack-dev-server": "^5.2.0"
  }
}
```

# ä»Šå¾Œã®å±•æœ›

æœ¬æ ¼çš„ã«ã‚¢ãƒ—ãƒªé–‹ç™ºã«å…¥ã‚‹ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆ
èªè¨¼æ©Ÿèƒ½(æ™®é€š&Google)
![](articles/screenshots/electron.demo.png)

#å‚è€ƒ
å…¬å¼
https://www.electronjs.org/ja/docs/latest/tutorial/tutorial-first-app

TODO ã‚¢ãƒ—ãƒªåŒ–
https://zenn.dev/takudooon/articles/0a8474b2129a02

ä½œæˆã—ãŸã‚‚ã®
https://github.com/nto300002/electron-react
